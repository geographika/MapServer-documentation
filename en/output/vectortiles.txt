.. index::
   single: VECTORTILE

.. _vectorfile_output:

Vector Tiles Output
===================

.. contents:: Table of Contents
    :depth: 2
    :backlinks: top

Introduction
============

Mapbox vector tiles (MVT) represent an alternative to delivering tiled map data to the client. In contrast to raster tiles, vector tiles encode coordinate and attribute information across any number of geospatial layers. This allows for rich application development where geospatial data can be filtered and symbolized on the client without the need for extra server interactions. See the `specification <https://www.mapbox.com/vector-tiles/specification/>`_.

.. code-block:: mapfile

  OUTPUTFORMAT
    NAME "CSV"
    DRIVER "OGR/CSV"
    MIMETYPE "text/csv"
    FORMATOPTION "LCO:GEOMETRY=AS_WKT"
    FORMATOPTION "STORAGE=memory"
    FORMATOPTION "FORM=simple"
    FORMATOPTION "FILENAME=result.csv"
  END

.. raw:: html
   
	<div id='map' style='width: 100%; height: 300px;'></div>   
	
	<link rel="stylesheet" href="//openlayers.org/en/v4.2.0/css/ol.css" type="text/css">
	<!-- The line below is only needed for old environments like Internet Explorer and Android 4.x -->
	<script src="//cdn.polyfill.io/v2/polyfill.min.js?features=requestAnimationFrame,Element.prototype.classList,URL"></script>
	<script src="//openlayers.org/en/v4.2.0/build/ol.js"></script>
	<script src="//rawgit.com/boundlessgeo/ol-mapbox-style/v0.0.14/dist/olms.js"></script>	

	<script src="//cdnjs.cloudflare.com/ajax/libs/proj4js/2.4.3/proj4.js"></script>
	<script>

	proj4.defs("EPSG:2154","+proj=lcc +lat_1=49 +lat_2=44 +lat_0=46.5 +lon_0=3 +x_0=700000 +y_0=6600000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs");

	var map = new ol.Map({
					layers: [
	new ol.layer.Tile({
	  extent: [643065.76, 6857478.57, 661079.58, 6867082.55],
	  source: new ol.source.TileWMS({
			url: '//localhost/mapserver/?map=C:/MapServer/apps/paris/paris.map',
			params: {'LAYERS': 'paris', 'TILED': true},
			serverType: 'mapserver'
	  })
	})
					  //,vectorLayer
					],
					target: 'map',
					view: new ol.View({
							projection: 'EPSG:2154',
									center: ol.proj.transform([2.3522, 48.8566], 'EPSG:4326', 'EPSG:2154'),
									zoom: 12
					})
	});
	</script>
	
	
..
	https://github.com/mapbox/mapbox-gl-styles
	https://boundlessgeo.com/2017/01/using-mapbox-style-objects-open-layers/	
	Full style object: https://gist.githubusercontent.com/ahocevar/a97d1299ab629463153c0c86cd0e2694/raw/7635b3e8763239e59b4f275c2fa74377f8693fa6/states.json
	

	https://github.com/boundlessgeo/ol-mapbox-style
	
	https://rawgit.com/ahocevar/a97d1299ab629463153c0c86cd0e2694/raw/7635b3e8763239e59b4f275c2fa74377f8693fa6/states.html	
	
	Example of CSS
	https://rawgit.com/ahocevar/a97d1299ab629463153c0c86cd0e2694/raw/7635b3e8763239e59b4f275c2fa74377f8693fa6/states.json	