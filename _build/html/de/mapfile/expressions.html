<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" lang="de">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Expressions &#8212; MapServer 7.0.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '7.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="shortcut icon" href="../_static/mapserver.ico"/>
    <link rel="author" title="Über dieses Dokument" href="../about.html" />
    <link rel="top" title="MapServer 7.0.0 documentation" href="../index.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../index.html" title="Home"><img src="../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../index.html" title="Home">Home</a> |
      <a href="../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../faq.html" title="FAQ">FAQ</a> |
      <a href="../download.html" title="Download">Download </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        
          
            <a href="../../mapfile/expressions.html"><img src="../_static/flagicons/en.png" alt="en" title="en" border="0" /></a>
          
        
        <img src="../_static/flagicons/de.png" alt="de" title="de" border="0" width="18px" height="13px"/>
        
          
            <a href="../../es/mapfile/expressions.html"><img src="../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
          
        
        
          
            <a href="../../zh_cn/mapfile/expressions.html"><img src="../_static/flagicons/zh_cn.png" alt="zh_cn" title="zh_cn" border="0" /></a>
          
        

    </td>
  </tr>
</table>



  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="expressions">
<span id="id1"></span><h1><a class="toc-backref" href="#contents">Expressions</a><a class="headerlink" href="#expressions" title="Link zu dieser Überschrift">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Dirk Tilger</td>
</tr>
<tr class="field-even field"><th class="field-name">Contact:</th><td class="field-body">dirk at MIRIUP.DE</td>
</tr>
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Umberto Nicoletti</td>
</tr>
<tr class="field-even field"><th class="field-name">Contact:</th><td class="field-body">umberto.nicoletti at gmail.com</td>
</tr>
<tr class="field-odd field"><th class="field-name">Revision:</th><td class="field-body">$Revision: 8295 $</td>
</tr>
<tr class="field-even field"><th class="field-name">Date:</th><td class="field-body">$Date: 2008-12-27 06:08:04 +0100 (Sa, 27. Dez 2008) $</td>
</tr>
<tr class="field-odd field"><th class="field-name">Last Updated:</th><td class="field-body">2007/07/09</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#expressions" id="id2">Expressions</a><ul>
<li><a class="reference internal" href="#einfuhrung" id="id3">Einführung</a></li>
<li><a class="reference internal" href="#expression-typen" id="id4">Expression Typen</a></li>
<li><a class="reference internal" href="#mapserver-expressions" id="id5">&#8220;MapServer expressions&#8221;</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="einfuhrung">
<h2><a class="toc-backref" href="#contents">Einführung</a><a class="headerlink" href="#einfuhrung" title="Link zu dieser Überschrift">¶</a></h2>
<p>Ab Version 4.6.1 können Expression an zwei Stellen benutzt werden. Sie werden
benutzt um Layer nach bestimmten Einträgen zu filtern und in
<a class="reference internal" href="class.html#class"><span class="std std-ref">CLASS</span></a> <a class="reference internal" href="#expressions"><span class="std std-ref">EXPRESSIONs</span></a> um zu bestimmen auf welche
Objekte <a class="reference internal" href="class.html#class"><span class="std std-ref">CLASS</span></a> angewandt werden soll.</p>
</div>
<div class="section" id="expression-typen">
<h2><a class="toc-backref" href="#contents">Expression Typen</a><a class="headerlink" href="#expression-typen" title="Link zu dieser Überschrift">¶</a></h2>
<p>Expressions werden benutzt um zu ermitteln ob Attributwerte bestimmten
logischen Tests entsprechen. Es gibt insgesamt drei unterschiedliche Typen
von Expressions die mit MapServer benutzt werden können:</p>
<blockquote>
<div><ul class="simple">
<li>Zeichenkettenvergleiche: Ein einzelnes Attribut wird mit einer Zeichenkette
verglichen.</li>
<li>Reguläre Ausdrücke: Ein einzelnes Attribute wird durch einen regulären
Ausdruck überprüft.</li>
<li>Logische &#8220;MapServer Expressions&#8221;: Ein oder mehrere Attribute werden anhand
von logischen Ausdrücken verglichen.</li>
</ul>
</div></blockquote>
<div class="section" id="zeichenkettenvergleich">
<h3>Zeichenkettenvergleich<a class="headerlink" href="#zeichenkettenvergleich" title="Link zu dieser Überschrift">¶</a></h3>
<p>Zeichenkettenvergleiche testen, wie der Name bereits vermuten läßt, ob
Attributwerte mit einem bestimmten Wert übereinstimmen. Zeichenkettenvergleiche
stellen die einfachste Form von MapServer Expressions dar und sin dauch die
schnellste Alternative.</p>
<p id="index-0">Um einen Zeichenkettenvergleich zum filtern eines <a class="reference internal" href="layer.html#layer"><span class="std std-ref">LAYER</span></a> zu benutzen,
muss sowohl FILTERITEM als auch FILTER definiert werden. Mit FILTERITEM wird
der Attributname angegeben. FILTER dagen wird auf den Vergleichswert gesetzt.
Dieselben Regeln treffen auf <a class="reference internal" href="layer.html#classitem"><span class="std std-ref">CLASSITEM</span></a> und EXPRESSION
im  <a class="reference internal" href="class.html#class"><span class="std std-ref">CLASS</span></a> Objekt zu.</p>
<p>Einfaches Beispiel für einen Filter mit Zeichenkettenvergleich</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">FILTER</span> <span class="s2">&quot;2005&quot;</span>
<span class="n">FILTERITEM</span> <span class="s2">&quot;year&quot;</span>
</pre></div>
</div>
<p>würde auf alle Datensätze zutreffen deren Attribut &#8220;year&#8221; auf &#8220;2005&#8221; gesetzt
ist. Die gezeichnete Karte enthält demzufolge nur Objekte deren Attribut
&#8220;year&#8221; dem Wert &#8220;2005&#8221; entspricht.</p>
<p>Auf die gleiche Weise kann eine Klassifikation der oben gefilterten Objekte
durchgeführt werden, indem CLASSITEM auf Layer Ebene und EXPRESSION in der
Klasse selber definiert wird.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">LAYER</span>
    <span class="n">NAME</span> <span class="s2">&quot;example&quot;</span>
    <span class="n">CLASSITEM</span> <span class="s2">&quot;year&quot;</span>
    <span class="o">...</span>
    <span class="n">CLASS</span>
        <span class="n">NAME</span> <span class="s2">&quot;year-2005&quot;</span>
        <span class="n">EXPRESSION</span> <span class="s2">&quot;2005&quot;</span>
        <span class="o">...</span>
    <span class="n">END</span>
<span class="n">END</span>
</pre></div>
</div>
<p>Sowohl CLASSITEM als auch FILTERITEM sollten weder mit &#8216;/&#8217; noch mit &#8216;(&#8216;
beginnen. Die Hintergründe werden weiter unten im Dokument erklärt.</p>
</div>
<div class="section" id="vergleich-mit-regularen-ausdrucken">
<span id="index-1"></span><h3>Vergleich mit regulären Ausdrücken<a class="headerlink" href="#vergleich-mit-regularen-ausdrucken" title="Link zu dieser Überschrift">¶</a></h3>
<p>Mit regulären Ausdrücken kann ein Text auf bestimmte lexikalische Eigenschaften
überprüft werden. Dazu wird ein Muster definiert mit dem der gewünschte Text
gefunden werden kann. Auf UNIX System wird durch das Betriebssystem die
Funktionalität von regulären Ausdrücken zur Verfügung gestellt und dadurch
etwas vom Betriebssystem abhängig. Im POSIX Standard sind die Kerneigenschaften
definiert. Eine Dokumentation der eingesetzten Bibliothek für reguläre
Ausdrücke bieter üblicherweise die &#8220;regex&#8221; Handbuchseite (&#8220;man regex&#8221;).</p>
<p>Reguläre Ausdrücke mit MapServer funktionieren ähnlich den
Zeichenkettenvergleichen. Sie sind langsamer als reine Zeichenkettenvergleiche,
aber können schneller sein als logische Ausdrücke. Wie bei den
Zeichenkettenvergleichen muss auch hier FILTERITEM und CLASSITEM definiert
werden.</p>
<p>Ein regulärer Ausdruck besteht aus Zeichen mit besonderer Bedeutung und Zeichen
die, so wie sie sind interpretiert werden. Alphanumerische Zeichen
(A-Z, a-z and 0-9) stellen keine besonderen Zeichen dar. Zeichen mit besonderer
Bedeutung sind folgende:</p>
<blockquote>
<div><ul class="simple">
<li><strong>.</strong> trifft auf ein einzelnes Zeichen zu</li>
<li><strong>[</strong> and <strong>]</strong> Wird für Gruppierungen benutzt. Z.B. <em>[A-Z]</em> trifft zu
auf A,B,C,...,X,Y,Z.</li>
<li><strong>{</strong>, <strong>}</strong>, und <strong>*</strong> gibt an wie oft eine Übereinstimmung auftreten muss.</li>
<li><strong>^</strong> trifft zu auf den Anfang, <strong>$</strong> trifft zu auf das Ende eines Wertes,</li>
<li>Der Backslash <strong>\</strong> wird benutzt um die besondere Bedeutung aufzuheben.
Z.B. <em>$</em> würde auf ein Dollarzeichen zutreffen.</li>
</ul>
</div></blockquote>
<p>Die folgende <a class="reference internal" href="layer.html#layer"><span class="std std-ref">LAYER</span></a> Konfiguration wird alle Einträge auf die Karte
zeichnen die den Wert &#8220;hotel&#8221; in der Attributspalte &#8220;placename&#8221; gespeichert
haben.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">LAYER</span>
    <span class="n">NAME</span> <span class="s2">&quot;regexp-example&quot;</span>
    <span class="n">FILTERITEM</span> <span class="s2">&quot;placename&quot;</span>
    <span class="n">FILTER</span> <span class="o">/</span><span class="n">hotel</span><span class="o">/</span>
    <span class="o">...</span>
<span class="n">END</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Bemerkung</p>
<p class="last">Der reguläre Ausdruck unterscheidet zwischen Groß-/Kleinschreibung, deshalb
werden Einträge mit &#8220;Hotel&#8221; nicht berücksichtigt.</p>
</div>
<p>Beispiel: Benutze alle Einträge mit einem Wert des aktuellen Jahrhunderts
(ausgehend von 2008 ;) in der Attributspalte &#8220;year&#8221;</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">FILTERITEM</span> <span class="s2">&quot;year&quot;</span>
<span class="n">FILTER</span> <span class="o">/^</span><span class="mi">20</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">][</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">/</span>
</pre></div>
</div>
<p>Beispiel: Benutze alle Einträge die entwerder numerisch oder leer sind</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>FILTER /^[0-9]*$/
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Bemerkung</p>
<p class="last">Sollten bei der Verwendung von MapServer und regulären Ausdrücken
allgemeine Schutzverletzungen auftreten, könnte es sein das die
Arbeitsumgebung gegen mehr als eine Bibliothek für reguläre Ausdrücke
gelinkt ist. Dies kann passieren wenn MapServer gegen Komponenten
gelinkt wird die ihre eigene Kopie mitbringen, wie z.B. Apache httpd oder
PHP. In diesem Fall kann es hilfreich sein die Bibliothek des
Betriebssystems zu benutzen (libc). Dafür müssen dann auch die
Konfigurationsdateien einiger Komponenten editiert werden.</p>
</div>
</div>
</div>
<div class="section" id="mapserver-expressions">
<h2><a class="toc-backref" href="#contents">&#8220;MapServer expressions&#8221;</a><a class="headerlink" href="#mapserver-expressions" title="Link zu dieser Überschrift">¶</a></h2>
<p>MapServer Expressions sind am komplexesten und je nachdem wie sie formuliert
werden auch relativ langsam. Es kann jedes Attribut getestet werden, dies
ermöglicht Filterung und Klassifizierung mit mehr als einem Attribut. Neben
reinen logischen Operationen werden auch bestimmte Arithmetische- und
Zeit-Operationen sowie Zeichenkettenoperationen unterstützt.</p>
<p>Damit MapServer einen Ausdruck als FILTER oder EXPRESSION Wert akzeptiert,
muss dieser letztendlich einen logischen Wert ergeben.</p>
<div class="section" id="logische-ausdrucke">
<h3>Logische Ausdrücke<a class="headerlink" href="#logische-ausdrucke" title="Link zu dieser Überschrift">¶</a></h3>
<p>Syntaktisch gesehen, ist alles innerhalb von runden Klammern ein logischer
Ausdruck. Logische Ausdrücke benutzen Wahrheitswerte als Eingabe und Ausgabe.
Ein logischer Ausdruck kann &#8216;wahr&#8217; (&#8216;true&#8217;) oder &#8216;falsch&#8217; (&#8216;false&#8217;) sein.</p>
<blockquote>
<div><ul class="simple">
<li>( ( ... ) AND ( ... ) )
( ( ... ) &amp;&amp; ( ... ) )
... wird wahr wenn beide logischen Ausdrücke in den inneren Klammern wahr
sind.</li>
<li>( ( ... ) OR ( ... ) )
( ( ... ) || ( ... ) )
... wird wahr wenn mindestens einer der beiden logischen Ausdrücke in den
inneren Klammern warh ist.</li>
<li>NOT ( ... )
! ( ... )
... wird wahr wenn der logische Ausdruck in den Klammern falsch ist.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="zeichenkettenoperation-die-logische-ausdrucke-ergeben">
<h3>Zeichenkettenoperation die logische Ausdrücke ergeben<a class="headerlink" href="#zeichenkettenoperation-die-logische-ausdrucke-ergeben" title="Link zu dieser Überschrift">¶</a></h3>
<p>Syntaktische gesehen ist eine Zeichenkette das was zwischen zwei
Anführungszeichen steht.</p>
<blockquote>
<div><ul class="simple">
<li>( &#8220;String1&#8221; eq &#8220;String2&#8221; )
( &#8220;String1&#8221; == &#8220;String2&#8221; )
( &#8220;String1&#8221; = &#8220;String2&#8221; )
... wird wahr wenn beide Zeichenketten gleich sind. Diese Operation ist
identisch mit dem MapServer Zeichenkettenvergleich.</li>
<li>( &#8220;String1&#8221; != &#8220;String2&#8221; )
( &#8220;String1&#8221; ne &#8220;String2&#8221; )
... wird wahr wenn beide Zeichenketten ungleich sind.</li>
<li>( &#8220;String1&#8221; &lt; &#8220;String2&#8221; )
( &#8220;String1&#8221; lt &#8220;String2&#8221; )
... wird wahr wenn &#8220;String1&#8221; lexikographisch kleiner als &#8220;String2&#8221; ist.</li>
<li>( &#8220;String1&#8221; &gt; &#8220;String2&#8221; )
( &#8220;String1&#8221; gt &#8220;String2&#8221; )
... wird wahr wenn &#8220;String1&#8221; lexikographisch größer als &#8220;String2&#8221; ist.</li>
<li>( &#8220;String1&#8221; &lt;= &#8220;String2&#8221; )
( &#8220;String1&#8221; le &#8220;String2&#8221; )
... will become true when &#8220;String1&#8221; is not lexicographically larger
than &#8220;String2&#8221;</li>
<li>( &#8220;String1&#8221; &gt;= &#8220;String2&#8221; )
( &#8220;String1&#8221; ge &#8220;String2&#8221; )
... wird wahr wenn &#8220;String1&#8221; nicht lexikographisch kleiner ist
als &#8220;String2&#8221;.</li>
<li>( &#8220;String1&#8221; IN &#8220;token1,token2,...,tokenN&#8221; )
... wird wahr wenn &#8220;String1&#8221; in einem der angegebenen Elemente (token)
enthalten ist.</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Bemerkung</p>
<p class="last">Der Seperator für die Elemente (token) ist ein Komma. Deswegen sollte
kein Leeraum (Leerzeichen, Tabulator...) angegeben werden. Außerdem
kann nicht verglichen werden wenn die Elemente ein Komma enthalten.</p>
</div>
<blockquote>
<div><ul class="simple">
<li>( &#8220;String1&#8221; =~ /regexp/ )
... wird wahr wenn auf &#8220;String1&#8221; der reguläre Ausdruck passt. Diese
Operation ist identisch mit den weiter oben beschriebenen regulären
Ausdrücken.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="zeichenkettenoperationen-die-zeichenketten-zuruckliefern">
<h3>Zeichenkettenoperationen die Zeichenketten zurückliefern<a class="headerlink" href="#zeichenkettenoperationen-die-zeichenketten-zuruckliefern" title="Link zu dieser Überschrift">¶</a></h3>
<p>Es gibt nur eine Operation die eine Zeichenkette zurückliefert:</p>
<blockquote>
<div><ul class="simple">
<li>&#8220;String1&#8221; + &#8220;String2&#8221;
... gibt &#8220;String1String2&#8221; zurück, die Zeichenketten werden aneinander
gehängt.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="arithmetische-ausdrucke-die-logische-werte-liefern">
<h3>Arithmetische Ausdrücke die logische Werte liefern<a class="headerlink" href="#arithmetische-ausdrucke-die-logische-werte-liefern" title="Link zu dieser Überschrift">¶</a></h3>
<p>Bei arithmetischen Operationen stellen Zahlen das Grundelement dar. Es gibt
einige rein arithmetischen operationen die Zahlenwerte zurück liefern. Diese
werden im nächsten Abschnitt beschrieben.</p>
<blockquote>
<div><ul class="simple">
<li>( n1 eq n2 )
( n1 == n2 )
( n1 = n2 )
... wird wahr wenn beide Zahlen gleich sind.</li>
<li>( n1 != n2 )
( n1 ne n2 )
... wird wahr wenn beide Zahlen ungleich sind.</li>
<li>( n1 &lt; n2 )
( n1 lt n2 )
...wird wahr wenn n1 kleiner als n2 ist.</li>
<li>( n1 &gt; n2 )
( n1 gt n2 )
... wird wahr wenn n1 größer als n2 ist.</li>
<li>( n1 &lt;= n2 )
( n1 le n2 )
... wird wahr wenn n1 kleiner oder gleich n2 ist.</li>
<li>( n1 &gt;= n2 )
( n1 ge n2 )
... wird wahr wenn n1 größer oder gleich n2 ist.</li>
<li>( n1 IN &#8220;number1,number2,...,numberN&#8221; )
... wird wahr wenn n1 mit einer der angegebenen Zahlen übereinstimmt.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="arithmetische-ausdrucke-die-zahlen-zuruck-liefern">
<h3>Arithmetische Ausdrücke die Zahlen zurück liefern<a class="headerlink" href="#arithmetische-ausdrucke-die-zahlen-zuruck-liefern" title="Link zu dieser Überschrift">¶</a></h3>
<p>Wie bereits geschrieben, unterstützt MapServer auch rein numerische Operationen
mit Zahlen.</p>
<blockquote>
<div><ul class="simple">
<li>n1 + n2
... liefert die Summe von n1 und n2</li>
<li>n1 - n2
... liefert die Differenz von n1 und n2</li>
<li>n1 * n2
... liefert das Produkt von n1 mit n2</li>
<li>n1 / n2&gt;
... liefert den Wert des Quotienten (n1 geteilt durch n2)</li>
<li>-n1
... liefert n1 mit umgekehrtem Vorzeichen</li>
<li>n1 ^ n2
... liefert n1 potentiert mit n2</li>
<li>length ( &#8220;String1&#8221; )
... liefert die Anzahl der Zeichen von &#8220;String1&#8221;</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Bemerkung</p>
<p>Werden obige numerischen Operationen wie logische Operationen benutzt,
gelten folgende Regeln: Nullwerte werden als &#8216;false&#8217; behandelt, alles
Andere als &#8216;true&#8217;. Das bedeutet, dass der Ausdruck</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">(</span> <span class="mi">6</span> <span class="o">+</span> <span class="mi">5</span> <span class="p">)</span>
</pre></div>
</div>
<p>... als Ergebnis &#8216;true&#8217; ergibt, hingegen</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">(</span> <span class="mi">5</span> <span class="o">-</span> <span class="mi">5</span> <span class="p">)</span>
</pre></div>
</div>
<p class="last">... als &#8216;false&#8217; ausgewertet wird.</p>
</div>
</div>
<div class="section" id="zeitabhangige-ausdrucke">
<h3>Zeitabhängige Ausdrücke<a class="headerlink" href="#zeitabhangige-ausdrucke" title="Link zu dieser Überschrift">¶</a></h3>
<p>MapServer benutzt einen internen Zeittyp für die Vergleiche. Soll ein Wert
umgewandelt werden, wird die folgende Liste von oben nach unten abgeglichen
ob ein Eintrag übereinstimmt. Wird eine Übereinstimmung gefunden, wird der
Vergleich ausgeführt.</p>
<blockquote>
<div><ul class="simple">
<li>YYYY-MM-DDTHH:MM:SSZ (&#8216;Z&#8217; und &#8216;T&#8217; sind Buchstaben)&lt;/i&gt;</li>
<li>YYYY-MM-DDTHH:MM:SS (&#8216;T&#8217; ist Buchstabe)&lt;/i&gt;</li>
<li>YYYY-MM-DD HH:MM:SS</li>
<li>YYYY-MM-DDTHH:MM (&#8216;T&#8217; ist Buchstabe)&lt;/i&gt;</li>
<li>YYYY-MM-DD HH:MM</li>
<li>YYYY-MM-DDTHH (&#8216;T&#8217; ist Buchstabe)&lt;/i&gt;</li>
<li>YYYY-MM-DD HH</li>
<li>YYYY-MM-DD</li>
<li>YYYY-MM</li>
<li>YYYY</li>
<li>THH:MM:SSZ (&#8216;Z&#8217; und &#8216;T&#8217; sind Buchstaben)&lt;/i&gt;</li>
<li>THH:MM:SS</li>
</ul>
</div></blockquote>
<p>Für mit diesem Weg bestimmte Werte werden folgende Operationen unterstützt:</p>
<blockquote>
<div><ul class="simple">
<li>( n1 eq n2 )
( n1 == n2 )
( n1 = n2 )
... liefert wahr wenn beide Zeiten gleich sind.</li>
<li>( t1 != t2 )
( t1 ne t2 )
... liefert wahr wenn beide Zeiten ungleich sind.</li>
<li>( t1 &lt; t2 )
( t1 lt t2 )
... liefert wahr wenn t1 zeitlich vor t2 liegt.</li>
<li>( t1 &gt; t2 )
( t1 gt t2 )
... liefert wahr wenn t1 zeitlich hinter t2 liegt.</li>
<li>( t1 &lt;= t2 )
( t1 le t2 )
... liefert wahr wenn t1 zeitlich vor oder gleich t2 ist.</li>
<li>( n1 &gt;= n2 )
( n1 ge n2 )
... liefert wahr wenn t1 zeitlich hinter oder gleich t2 ist.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="wie-wird-auf-die-attributwerte-zugegriffen">
<h3>Wie wird auf die Attributwerte zugegriffen<a class="headerlink" href="#wie-wird-auf-die-attributwerte-zugegriffen" title="Link zu dieser Überschrift">¶</a></h3>
<p>Um die oben beschriebenen Ausdrücke benutzen zu können, muss der Attributwert
in den jeweiligen Ausdruck eingesetzt werden. Dies wird erreicht indem der
Attributname bzw. Attributschlüssel (key) in eckige Klammern gesetzt wird,
z.B.: [Attributname]. Bevor ein Ausdruck ausgewertet wird, wird jedes
Vorkommen von 2[Attributname]&#8221; durch den Wert des Attributes ersetzt.</p>
<p>Beispiel: Die Verarbeitung eines einfachen Zeichenkettenvergleiches. Der
Filter ist wie folgt definiert:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">FILTER</span> <span class="p">(</span> <span class="s2">&quot;[BUILDING_NAME]&quot;</span> <span class="o">==</span> <span class="s2">&quot;National Museum&quot;</span> <span class="p">)</span>
</pre></div>
</div>
<p>Es gibt ein Attribut &#8220;BUILDING_NAME&#8221; und der Wert ist &#8220;National Government
Building&#8221;. Demzufolge wird der Ausdruck...</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;National Government Building&quot;</span> <span class="o">==</span> <span class="s2">&quot;National Museum&quot;</span> <span class="p">)</span>
</pre></div>
</div>
<p>...ausgewertet und liefert falsch (bzw. false) als Ergebnis.</p>
<p>Einige Layer besitzen oftmals keine Metadaten. Für Rasterlayer zum Beispiel
wurden spezielle Attribute definiert, die für eine Klassifikation benutzt
werden können:</p>
<blockquote>
<div><ul class="simple">
<li>[PIXEL]
... liefert den Pixelwert als Zahl</li>
<li>[RED], [GREEN], [BLUE]
... liefert den Farbwert für den roten (red), grünen (green) und blauen
(blue) Farbanteil des Pixel.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="maskieren-von-anfuhrungszeichen-in-zeichenketten">
<h3>Maskieren von Anführungszeichen in Zeichenketten<a class="headerlink" href="#maskieren-von-anfuhrungszeichen-in-zeichenketten" title="Link zu dieser Überschrift">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Bemerkung</p>
<p class="last">Anführungszeichen können erst ab MapServer Versionen &gt;= 5.0 maskiert werden.</p>
</div>
<p>Ab MapServer 5.0  kann eine C-ähnliche Maskierung für die Ausdrücke benutzt
werden. Enthält das Attribut <em>&#8220;NAME&#8221;</em> den Wert <em>&#8216;National &#8220;hero&#8221; statue&#8217;</em>
könnte der FILTER Ausdruck wie folgt geschrieben werden:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">FILTER</span> <span class="p">(</span> <span class="s2">&quot;[NAME]&quot;</span> <span class="o">==</span> <span class="s2">&quot;National </span><span class="se">\&quot;</span><span class="s2">hero</span><span class="se">\&quot;</span><span class="s2"> statue&quot;</span> <span class="p">)</span>
<span class="o">...</span>
</pre></div>
</div>
<p>um einfache Anführungszeichen zu maskieren kann folgender Ausdruck benutzt
werden:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">FILTER</span> <span class="p">(</span> <span class="s2">&quot;[NAME]&quot;</span> <span class="o">==</span> <span class="s2">&quot;National </span><span class="se">\&#39;</span><span class="s2">hero</span><span class="se">\&#39;</span><span class="s2"> statue&quot;</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Navigation</h3>
<p>
<a href="../about.html" title="About">About</a><br>
<a href="../products.html" title="Products">Products</a><br>
<a href="../community/index.html" title="Community">Community</a><br>
<a href="../development/index.html" title="Development">Development</a><br>
<a href="../download.html" title="Downloads">Downloads</a><br>
<a href="../documentation.html" title="Documentation">Documentation</a><br>
<a href="../faq.html" title="FAQ">FAQ</a>
</p>
  <h3>Current Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Expressions</a><ul>
<li><a class="reference internal" href="#einfuhrung">Einführung</a></li>
<li><a class="reference internal" href="#expression-typen">Expression Typen</a><ul>
<li><a class="reference internal" href="#zeichenkettenvergleich">Zeichenkettenvergleich</a></li>
<li><a class="reference internal" href="#vergleich-mit-regularen-ausdrucken">Vergleich mit regulären Ausdrücken</a></li>
</ul>
</li>
<li><a class="reference internal" href="#mapserver-expressions">&#8220;MapServer expressions&#8221;</a><ul>
<li><a class="reference internal" href="#logische-ausdrucke">Logische Ausdrücke</a></li>
<li><a class="reference internal" href="#zeichenkettenoperation-die-logische-ausdrucke-ergeben">Zeichenkettenoperation die logische Ausdrücke ergeben</a></li>
<li><a class="reference internal" href="#zeichenkettenoperationen-die-zeichenketten-zuruckliefern">Zeichenkettenoperationen die Zeichenketten zurückliefern</a></li>
<li><a class="reference internal" href="#arithmetische-ausdrucke-die-logische-werte-liefern">Arithmetische Ausdrücke die logische Werte liefern</a></li>
<li><a class="reference internal" href="#arithmetische-ausdrucke-die-zahlen-zuruck-liefern">Arithmetische Ausdrücke die Zahlen zurück liefern</a></li>
<li><a class="reference internal" href="#zeitabhangige-ausdrucke">Zeitabhängige Ausdrücke</a></li>
<li><a class="reference internal" href="#wie-wird-auf-die-attributwerte-zugegriffen">Wie wird auf die Attributwerte zugegriffen</a></li>
<li><a class="reference internal" href="#maskieren-von-anfuhrungszeichen-in-zeichenketten">Maskieren von Anführungszeichen in Zeichenketten</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Schnellsuche</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Los" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Open Source Geospatial Foundation.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.4.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.9</a>
      
    </div>

    

    
  </body>
</html>