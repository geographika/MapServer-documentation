<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Einführung zum MapServer &mdash; MapServer 7.0.0 documentation</title>
    
    <link rel="stylesheet" href="_static/sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '7.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <link rel="shortcut icon" href="_static/mapserver.ico"/>
    <link rel="author" title="Über dieses Dokument" href="about.html" />
    <link rel="top" title="MapServer 7.0.0 documentation" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="index.html" title="Home"><img src="_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="index.html" title="Home">Home</a> |
      <a href="products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="faq.html" title="FAQ">FAQ</a> |
      <a href="download.html" title="Download">Download </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        
          
            <a href="../introduction.html"><img src="_static/flagicons/en.png" alt="en" title="en" border="0" /></a>
          
        
        <img src="_static/flagicons/de.png" alt="de" title="de" border="0" width="18px" height="13px"/>
        
          
            <a href="../es/introduction.html"><img src="_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
          
        
        
          
            <a href="../zh_cn/introduction.html"><img src="_static/flagicons/zh_cn.png" alt="zh_cn" title="zh_cn" border="0" /></a>
          
        

    </td>
  </tr>
</table>



  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="einfuhrung-zum-mapserver">
<span id="introduction"></span><h1><a class="toc-backref" href="#contents">Einführung zum MapServer</a><a class="headerlink" href="#einfuhrung-zum-mapserver" title="Link zu dieser Überschrift">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Revision:</th><td class="field-body">$Revision: 8478 $</td>
</tr>
<tr class="field-even field"><th class="field-name">Date:</th><td class="field-body">$Date: 2009-01-29 20:54:42 +0100 (Do, 29. Jan 2009) $</td>
</tr>
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Jeff McKenna</td>
</tr>
<tr class="field-even field"><th class="field-name">Contact:</th><td class="field-body">jmckenna at gatewaygeomatics.com</td>
</tr>
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">David Fawcett</td>
</tr>
<tr class="field-even field"><th class="field-name">Contact:</th><td class="field-body">david.fawcett at moea.state.mn.us</td>
</tr>
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Howard Butler</td>
</tr>
<tr class="field-even field"><th class="field-name">Contact:</th><td class="field-body">hobu.inc at gmail.com</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#einfuhrung-zum-mapserver" id="id7">Einführung zum MapServer</a><ul>
<li><a class="reference internal" href="#mapserver-uberblick" id="id8">MapServer Überblick</a></li>
<li><a class="reference internal" href="#anatomie-einer-mapserver-anwendung" id="id9">Anatomie einer MapServer Anwendung</a></li>
<li><a class="reference internal" href="#systemanforderungen-und-installationshinweise" id="id10">Systemanforderungen und Installationshinweise</a></li>
<li><a class="reference internal" href="#einfuhrung-zum-mapfile" id="id11">Einführung zum <a class="reference internal" href="mapfile/index.html#mapfile"><span>Mapfile</span></a></a></li>
<li><a class="reference internal" href="#eine-eigene-mapserver-anwendung" id="id12">Eine eigene MapServer-Anwendung</a></li>
<li><a class="reference internal" href="#die-eigene-anwendung-erweitern" id="id13">Die eigene Anwendung erweitern</a></li>
<li><a class="reference internal" href="#wie-bekomme-ich-hilfe" id="id14">Wie bekomme ich Hilfe?</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="mapserver-uberblick">
<h2><a class="toc-backref" href="#contents">MapServer Überblick</a><a class="headerlink" href="#mapserver-uberblick" title="Link zu dieser Überschrift">¶</a></h2>
<p>MapServer ist ein weit verbreitetes Open Source Projekt, dessen Hauptanwendung
darin besteht dynamische Karten über das Internet anzuzeigen. Einige wesentliche
Merkmale sind:</p>
<ul class="simple">
<li>Unterstützung für Anzeige und Abfrage von hunderten Raster-, Vektor- und
Datenbankformaten</li>
<li>Unterstützung von verschiedenen Betriebssystemen (Windows, Linix, Mac OS X, etc.)</li>
<li>Unterstützung für Skriptsprachen und Entwicklungsumgebungen
(PHP, Python, Perl, Ruby, java, .NET)</li>
<li>on-the-fly Projektion</li>
<li>hochqualitatives Rendering</li>
<li>individuell anpassbare Ausgabe</li>
<li>viele &#8220;schlüsselfertige&#8221; Open Source Anwendungsumgebungen</li>
</ul>
<p>Grundlegend betrachtet ist MapServer ein <span class="xref std std-term">CGI</span> programm, das inaktiv
in einem Webserver eingebunden ist. Wird eine Anfrage an MapServer geschickt,
werden Parameter der Anfrage-URL und Einstellungen des <a class="reference internal" href="mapfile/index.html#mapfile"><span>Mapfile</span></a>
benutzt um ein Bild zu erstellen. Es können auch Bilder für Legenden,
Maßstabsleisten, Übersichtskarten und Werte aus CGI Variablen abgefragt werden.</p>
<div class="admonition seealso">
<p class="first admonition-title">Siehe auch</p>
<p class="last">Das <span class="xref std std-ref">gloss</span> enthält viele der in diesem Dokument benutzten Fachausdrücke.</p>
</div>
<p>MapServer kann durch <span class="xref std std-ref">MapScript</span> oder <a class="reference internal" href="mapfile/template.html#template"><span>templating</span></a>
erweitert und angepasst werden. Er kann mit unterstützung für viele verschiedene
<span class="xref std std-ref">vector</span> und <span class="xref std std-ref">raster</span> Formate übersetzt werden.
Außerdem wird eine Vielzahl von <span class="xref std std-ref">output</span> Formaten unterstützt.
Viele vorkompilierte MapServer-Distributionen enthalten fast alle unterstützten
Funktionen.</p>
<div class="admonition seealso">
<p class="first admonition-title">Siehe auch</p>
<p class="last"><span class="xref std std-ref">unix</span> and <span class="xref std std-ref">win32</span></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Bemerkung</p>
<p><span class="xref std std-term">MapScript</span> stellt ein Scripting-interface für MapServer zur
Verfügung mit dem Web- und Stand-alone-Anwendungen realisiert werden können.
MapScript kann unabhängig vom CGI MapServer benutzt werden. Es kann als
Modul für verschiedene Skriptsprachen geladen werden. MapScript unterstützt
derzeit ref:<cite>PHP &lt;php&gt;</cite>, Perl, <span class="xref std std-ref">Python</span>, Ruby, Tcl, Java,
und .NET.</p>
<p class="last">Diese Anleitung dient nicht der detailierten Besprechung von MapScript.
Für weiterführende Informationen siehe <span class="xref std std-ref">MapScript Reference</span>.</p>
</div>
</div>
<div class="section" id="anatomie-einer-mapserver-anwendung">
<h2><a class="toc-backref" href="#contents">Anatomie einer MapServer Anwendung</a><a class="headerlink" href="#anatomie-einer-mapserver-anwendung" title="Link zu dieser Überschrift">¶</a></h2>
<div class="figure" id="id1">
<img alt="MapServer Basic Architecture" src="_images/architecture.png" />
<p class="caption"><span class="caption-text">Die Basisarchitektur einer MapServer-Anwendung</span></p>
</div>
<p>Eine einfache MapServer-Anwendung besteht aus:</p>
<ul>
<li><p class="first"><strong>Mapfile</strong> - Konfigurationsdatei mit strukturiertem Text für die MapServer-
Anwendung. Hier wird das Gebiet der Karte definiert, MapServer die
Datenquellen bekannt gegeben und wo bzw. wie die Ergebnisse ausgegeben werden.
Auch die einzelnen Layer werden hier definiert mit Angaben zur Datenquelle,
Projektion und Ausprägung. Die Dateiendung muss .map sein, sonst erkennt
MapServer die Datei nicht.</p>
<div class="admonition seealso">
<p class="first admonition-title">Siehe auch</p>
<p class="last"><a class="reference internal" href="mapfile/index.html#mapfile"><span>MapServer Mapfile Reference</span></a></p>
</div>
</li>
<li><p class="first"><strong>Geodaten</strong> - MapServer kann auf verschiedene Quellen von Geodaten zugreifen.
Das Standardformat ist die ESRI Shapedatei. Viele andere Datenformate können
benutzt werden. Dies ist beschrieben in <a href="#id15"><span class="problematic" id="id16">`Adding data to your site`_</span></a>.</p>
<div class="admonition seealso">
<p class="first admonition-title">Siehe auch</p>
<p class="last"><span class="xref std std-ref">Vector Input Reference</span> und <span class="xref std std-ref">Raster Input Reference</span></p>
</div>
</li>
<li><p class="first"><strong>HTML-Seiten</strong> - die Schnittstelle zwischen Benutzer und MapServer.
Sie liegen normalerweise im Web-Root. In der einfachsten Anwendung kann
MapServer ein statisches Kartenbild in eine HTML-Seite einfügen. Um die Karte
interaktiv zu machen, kann das Bild in ein HTML-Formular gesetzt werden.</p>
<p><span class="xref std std-term">CGI</span> Programme sind &#8216;zustandslos&#8217;. Jede Anfrage ist neu und es kann
nicht auf Daten vorheriger Anfragen zurück gegriffen werden. Deshalb müssen
mit jeder Anfrage an MapServer auch Kontextinformationen gesendet werden.
Welche Layer sind an, welcher Ausschnitt soll gezeigt werden, Anwendungsmodus,
etc. sind solche Informationen. Sie werden entweder in versteckten
HTML-Formularen oder als URL-Variable übergeben.</p>
<p>Eine einfache MapServer <span class="xref std std-ref">cgi</span>-Anwendung könnte zwei HTML-Seiten enthalten:</p>
<ul>
<li><p class="first"><strong>Initialisierungsdatei</strong> - benutzt ein HTML-Formular mit versteckten
Variablen um die initiale Anfrage an MapServer zu schicken. Dieses Formular
könnte auf eine eigene Seite gesetzt werden oder die initialen Informationen
können als Variable in einer URL übergeben werden.</p>
</li>
<li><p class="first"><strong>Templatedatei</strong> - steuert, wie die Karten- und Legendenausgaben von
MapServer im Browser erscheinen. Werden MapServer CGI-Variablen benutzt,
wird MapServer diese durch die entsprechenden Werte zur Laufzeit ersetzen,
während die HTML-Seite zur Anzeige im Browser erstellt wird. Typische
Werte sind z.B. der Kartenbildname, Name des Übersichtsbildes, die
Kartenausdehnung. Durch das Template wird auch festgelegt, wie mit der
MapServer-Anwendung interagiert werden kann.</p>
<div class="admonition seealso">
<p class="first admonition-title">Siehe auch</p>
<p class="last"><a class="reference internal" href="mapfile/template.html#template"><span>Templating</span></a></p>
</div>
</li>
</ul>
</li>
<li><p class="first"><strong>MapServer CGI</strong> - ist die Binärdatei bzw. ausführbare Datei, die alle
Anfragen erhält und Bilder, Daten, usw. ausliefert. Sie wird in das
cgi-bin- oder Skript-Verzeichnis des HTTP-Servers installiert. Der
Webserver-Benutzer sollte Ausführungsrechte für dieses Verzeichnis haben.
Aus Sicherheitsgründen sollte das Verzeichnis nicht das Dokument-Root-Verzeichnis
sein. Die Datei heißt standardmäßig <span class="xref std std-ref">mapserv</span></p>
</li>
<li><p class="first"><strong>HTTP-Server</strong> - liefert HTML-Seiten aus, die der Browser des Benutzers
anfordert. Es wird ein einsatzbereiter HTTP- bzw. Web-Server benötigt, wie
z.B. <a class="reference external" href="http://httpd.apache.org">Apache</a> oder Microsoft Internet Information
Server, der auf der selben Maschine wie der MapServer läuft.</p>
</li>
</ul>
</div>
<div class="section" id="systemanforderungen-und-installationshinweise">
<h2><a class="toc-backref" href="#contents">Systemanforderungen und Installationshinweise</a><a class="headerlink" href="#systemanforderungen-und-installationshinweise" title="Link zu dieser Überschrift">¶</a></h2>
<div class="section" id="windows-installation">
<h3>Windows Installation<a class="headerlink" href="#windows-installation" title="Link zu dieser Überschrift">¶</a></h3>
<p>OSGeo4W ist ein neuer Windows-Installer der zum Installieren oder Aktualisieren
von MapServer, Zusatzanwendungen und anderer Open Source GIS-Software benutzt
werden kann. Die folgenden Schritte beschreiben, wie OSGeo4W benutzt wird:</p>
<ol class="arabic">
<li><p class="first">Download OSGeo4W
<a class="reference external" href="http://download.osgeo.org/osgeo4w/osgeo4w-setup.exe">http://download.osgeo.org/osgeo4w/osgeo4w-setup.exe</a></p>
</li>
<li><p class="first">Ausführen (Doppelklick) der .exe</p>
</li>
<li><p class="first">Auswahl von &#8220;Advanced&#8221;</p>
<img alt="_images/osgeo4w-install-start.png" src="_images/osgeo4w-install-start.png" />
<div class="admonition note">
<p class="first admonition-title">Bemerkung</p>
<p class="last">Express bietet Optionen für Komplettpakete wie MapServer, GRASS und
uDig. Advanced hingegen ermöglicht die Auswahl von Werkzeugen für
die Kommandozeile, die in der Variante express nicht enthalten sind.</p>
</div>
</li>
<li><p class="first">Auswahl der zu installierenden Pakete</p>
<img alt="_images/osgeo4w-install-next.png" src="_images/osgeo4w-install-next.png" />
<div class="admonition note">
<p class="first admonition-title">Bemerkung</p>
<p class="last">Ein Klick auf &#8220;Default&#8221; neben den Komplettpaketen (wie z.B. Web)
installiert alle Unterpakete von Web. Ein Klick auf &#8220;skip&#8221; neben einem
Paket (wie z.B. MapServer) wählt das Paket und alle seine
Abhängigkeiten zur Installation aus.</p>
</div>
</li>
<li><p class="first">Der Installer lädt alle Pakete herunter.</p>
<img alt="_images/osgeo4w-install-fetch.png" src="_images/osgeo4w-install-fetch.png" />
</li>
<li><p class="first">Um Apache als Dienst einzurichten, muss die Datei apache-install.bat
ausgeführt werden.</p>
<div class="admonition note">
<p class="first admonition-title">Bemerkung</p>
<p class="last">Dieses Skript sollte in der &#8220;OSGeo4W Shell&#8221; gestartet werden. Auf dem
Desktop befindet sich dafür eine Verknüpfung.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Bemerkung</p>
<p class="last">Mit dem Skript apache-uninstall.bat kann der Dienst wieder entfernt
werden.</p>
</div>
</li>
<li><p class="first">Starten des Apache von der OSGeo4W-Shell und Aufruf von <a class="reference external" href="http://127.0.0.1">http://127.0.0.1</a></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">apache</span><span class="o">-</span><span class="n">restart</span><span class="o">.</span><span class="n">bat</span>
</pre></div>
</div>
<img alt="_images/osgeo4w-install-complete.png" src="_images/osgeo4w-install-complete.png" />
</li>
<li><p class="first">Überprüfen ob MapServer richtig installiert wurde</p>
<img alt="_images/osgeo4w-install-verify.png" src="_images/osgeo4w-install-verify.png" />
</li>
</ol>
</div>
<div class="section" id="hardwareanforderungen">
<h3>Hardwareanforderungen<a class="headerlink" href="#hardwareanforderungen" title="Link zu dieser Überschrift">¶</a></h3>
<p>MapServer läuft unter Linux, Windows, Mac OS X, Solaris und weiteren
Betriebssystemen. Zum Übersetzen oder Installieren von benötigten Programmen,
werden wahrscheinlich administrative Rechte benötigt. Fragen nach den
Minimalanforderungen der Hardware können nicht pauschal beantwortet werden, da
diese stark anwendungsabhängig sind. Für Entwicklungs- und Lernzwecke wird
eine sehr einfache Maschine ausreichen. Für den produktiven Einsatz wird
eine <span class="xref std std-ref">optimization</span> des gesamten Spektrums von den Daten bis zur
Serverkonfiguration empfohlen.</p>
</div>
<div class="section" id="softwareanforderungen">
<h3>Softwareanforderungen<a class="headerlink" href="#softwareanforderungen" title="Link zu dieser Überschrift">¶</a></h3>
<p>Es wird ein einsatzbereiter und korrekt konfigurierter HTTP/Web-Server, wie
z.B. <a class="reference external" href="http://httpd.apache.org/">Apache</a> oder Microsoft Internet Information
Server benötigt. OSGeo4W enthält bereits Apache, aber die Konfiguration kann
auch an den IIS angepasst werden. Alternativ kann <a class="reference external" href="http://www.maptools.org/ms4w/index.phtml">MS4W</a>
benutzt werden, um MapServer unter Windows zu installieren.</p>
<p>Für Windows kann das Paket <a class="reference external" href="http://www.maptools.org/ms4w/index.phtml">MS4W</a>
benutzt werden um eine komplette Umgebung, mit vorkonfiguriertem HTTP-Server,
MapServer und anderen Tools zu installieren. Der <a class="reference external" href="http://www.maptools.org/fgs/">FGS Linux Installer</a> bietet für diverse Linux-Distributionen
die gleiche Funktionalität.</p>
<p>Die vorliegende Einleitung geht von der Verwendung vorkompilierter
OSGeo4W-Windows-Binaries aus. Für <span class="xref std std-ref">Linux</span> oder <span class="xref std std-ref">Mac OS X</span>
sollte dies analog funktionieren. Unter <span class="xref std std-ref">download</span> gibt es
Installationsanleitungen für vorkompilierte Pakete für Mac OS X und Linux.</p>
<p>Benötigt wird außerdem ein Webbrowser und ein Texteditor (vi, emacs, notepad,
homesite) zum Bearbeiten des HTML-Codes und des <a class="reference internal" href="mapfile/index.html#mapfile"><span>Mapfile</span></a>.</p>
</div>
<div class="section" id="kenntnisse">
<h3>Kenntnisse<a class="headerlink" href="#kenntnisse" title="Link zu dieser Überschrift">¶</a></h3>
<p>Neben dem Erlernen, wie die verschiedenen Komponenten einer MapServer-Anwendung
zusammen arbeiten und der Mapfile-Syntax ist ein gewisser Grad konzeptuellen
Verständnisses und Kenntnisse in einigen anderen Bereichen erforderlich.</p>
<p>Es sollten mindestens Kenntnisse zum Bearbeiten von <a class="reference external" href="http://www.w3.org/MarkUp/Guide/">HTML</a>-Seiten und der Funktionsweise von
HTML-Formularen vorhanden sein. Der Haupteinsatzzweck einer MapServer-Anwendung
stellt das Erzeugen von Karten dar. Deswegen sollten die Grundlagen von
Geodaten und auch Kartenprojektionen nicht unbekannt sein. Für komplexere
Anwendungen werden Kenntnisse von SQL, DHTML/Javascript, Java, Datenbanken,
Ausdrücke, Kompilierung und Skriptsprachen sehr nützlich.</p>
</div>
</div>
<div class="section" id="einfuhrung-zum-mapfile">
<h2><a class="toc-backref" href="#contents">Einführung zum <a class="reference internal" href="mapfile/index.html#mapfile"><span>Mapfile</span></a></a><a class="headerlink" href="#einfuhrung-zum-mapfile" title="Link zu dieser Überschrift">¶</a></h2>
<p>Durch das Mapfile werden die Datenquellen und das Styling für den MapServer
konfiguriert. Die Datei ist eine ASCII-Textdatei und kann verschiedene Objekte
enthalten. Jedes Objekt hat eine Vielzahl von Parametern. Alle .map-Datei
(bzw. Mapfile) -Parameter sind in der <a class="reference internal" href="mapfile/index.html#mapfile"><span>Mapfile Referenz</span></a>
dokumentiert. Ein einfaches Beispiel eines Mapfile zur Darstellung eines
Layers und das dazugehörige Kartenbild wird im Folgenden gezeigt:</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">NAME</span> <span class="s">&quot;sample&quot;</span>
<span class="k">STATUS</span> <span class="nb">ON</span>
<span class="k">SIZE</span> <span class="mi">600</span> <span class="mi">400</span>
<span class="k">SYMBOLSET</span> <span class="s">&quot;../etc/symbols.txt&quot;</span>
<span class="k">EXTENT</span> <span class="p">-</span><span class="mi">180</span> <span class="p">-</span><span class="mi">90</span> <span class="mi">180</span> <span class="mi">90</span>
<span class="k">UNITS</span> <span class="nb">DD</span>
<span class="k">SHAPEPATH</span> <span class="s">&quot;../data&quot;</span>
<span class="k">IMAGECOLOR</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span>
<span class="k">FONTSET</span> <span class="s">&quot;../etc/fonts.txt&quot;</span>

<span class="c">#</span>
<span class="c"># Start of web interface definition</span>
<span class="c">#</span>
<span class="k">WEB</span>
    <span class="k">IMAGEPATH</span> <span class="s">&quot;/ms4w/tmp/ms_tmp/&quot;</span>
    <span class="k">IMAGEURL</span> <span class="s">&quot;/ms_tmp/&quot;</span>
<span class="k">END</span>

<span class="c">#</span>
<span class="c"># Start of layer definitions</span>
<span class="c">#</span>
<span class="k">LAYER</span>
    <span class="k">NAME</span> <span class="s">&#39;global-raster</span>
    <span class="k">TYPE</span> <span class="nb">RASTER</span>
    <span class="k">STATUS</span> <span class="nb">DEFAULT</span>
    <span class="k">DATA</span> <span class="err">bluemarb</span><span class="ow">le</span><span class="p">.</span><span class="nb">gif</span>
<span class="k">END</span>
</pre></div>
</div>
<div class="figure" id="id2">
<img alt="Rendered Bluemarble Image" src="_images/bluemarble-rendered.jpg" />
<p class="caption"><span class="caption-text">Rendered Bluemarble Image</span></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Bemerkung</p>
<ul class="last simple">
<li>Kommentare beginnen mit der Raute &#8216;#&#8217;</li>
<li>MapServer arbeitet das Mapfile von oben nach unten ab, Layer am Ende der
Datei werden zum Schluß gezeichnet. D.h. sie werden auf alle vorherigen
Layer gezeichnet.</li>
<li>Es sollten immer relative Pfade benutzt werden</li>
<li>Pfade sollten immer maskiert werden (einzelne oder doppelte Hochkommata
werden akzeptiert)</li>
</ul>
</div>
<div class="section" id="map-object">
<h3><a class="reference internal" href="mapfile/map.html#map"><span>MAP</span></a> Object<a class="headerlink" href="#map-object" title="Link zu dieser Überschrift">¶</a></h3>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">MAP</span>
    <span class="k">NAME</span>                 <span class="s">&quot;sample&quot;</span>
    <span class="k">EXTENT</span>        <span class="p">-</span><span class="mi">180</span> <span class="p">-</span><span class="mi">90</span> <span class="mi">180</span> <span class="mi">90</span> <span class="c"># Geographic</span>
    <span class="k">SIZE</span>                  <span class="mi">800</span> <span class="mi">400</span>
    <span class="k">IMAGECOLOR</span>        <span class="mi">128</span> <span class="mi">128</span> <span class="mi">255</span>
<span class="k">END</span>
</pre></div>
</div>
<ul class="simple">
<li>EXTENT ist die Ausdehnung der Ausgabe in Karteneinheiten</li>
<li>SIZE ist die Breite und Höhe des kartenbildes in Pixel</li>
<li>IMAGECOLOR ist dir Standard-Hintergrundfarbe</li>
</ul>
</div>
<div class="section" id="layer-objekt">
<h3><a class="reference internal" href="mapfile/layer.html#layer"><span>LAYER</span></a> Objekt<a class="headerlink" href="#layer-objekt" title="Link zu dieser Überschrift">¶</a></h3>
<ul class="simple">
<li>ab MapServer 5.0 gibt es keine Beschränkungen mehr für die Anzahl der Layer
in einem Mapfile</li>
<li>DATA-Parameter ist relativ zum SHAPEPATH-Parameter im <a class="reference internal" href="mapfile/map.html#map"><span>MAP</span></a>-Objekt</li>
<li>Wird keine Dateinamenserweiterung angegeben, wird vom MapServer ein
ESRI Shapefile (.shp) angenommen.</li>
</ul>
<div class="section" id="rasterlayer">
<h4>Rasterlayer<a class="headerlink" href="#rasterlayer" title="Link zu dieser Überschrift">¶</a></h4>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">LAYER</span>
    <span class="k">NAME</span> <span class="err">bathymetry</span>
    <span class="k">TYPE</span> <span class="nb">RASTER</span>
    <span class="k">STATUS</span> <span class="nb">DEFAULT</span>
    <span class="k">DATA</span> <span class="err">bath_mapserver</span><span class="p">.</span><span class="err">tif</span>
<span class="k">END</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">Siehe auch</p>
<p class="last"><span class="xref std std-ref">raster</span></p>
</div>
</div>
<div class="section" id="vektorlayer">
<h4>Vektorlayer<a class="headerlink" href="#vektorlayer" title="Link zu dieser Überschrift">¶</a></h4>
<p>Vektorlayer vom TYPE point (Punkt), line (Linie) oder polygon (Polygon) können
dargestellt werden. Das folgende Beispiel zeigt wie nur die Linien eis
Polygon-Layer dargestellt werden, in dem der Parameter OUTLINECOLOR benutzt wird:</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">LAYER</span>
    <span class="k">NAME</span>   <span class="s">&quot;world_poly&quot;</span>
    <span class="k">DATA</span>         <span class="s">&#39;shapefile/countries_area.shp&#39;</span>
    <span class="k">STATUS</span>       <span class="nb">ON</span>
    <span class="k">TYPE</span>         <span class="nb">POLYGON</span>
    <span class="k">CLASS</span>
        <span class="k">NAME</span>       <span class="s">&#39;The World&#39;</span>
        <span class="k">STYLE</span>
            <span class="k">OUTLINECOLOR</span>    <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>
        <span class="k">END</span>
    <span class="k">END</span>
<span class="k">END</span> <span class="c"># layer</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">Siehe auch</p>
<p class="last"><span class="xref std std-ref">vector</span></p>
</div>
<div class="figure" id="id3">
<img alt="Rendered Bluemarble Image" src="_images/bluemarble-boundaries.jpg" />
<p class="caption"><span class="caption-text">Rendered Bluemarble image with vector boundaries</span></p>
</div>
</div>
</div>
<div class="section" id="class-und-style-objekte">
<h3><a class="reference internal" href="mapfile/class.html#class"><span>CLASS</span></a> und <a class="reference internal" href="mapfile/style.html#style"><span>STYLE</span></a> Objekte<a class="headerlink" href="#class-und-style-objekte" title="Link zu dieser Überschrift">¶</a></h3>
<ul class="simple">
<li>Zur Ausprägung bzw. Styling werden <a class="reference internal" href="mapfile/class.html#class"><span>CLASS</span></a> und <a class="reference internal" href="mapfile/style.html#style"><span>STYLE</span></a> -Objekte
innerhalb eines <a class="reference internal" href="mapfile/layer.html#layer"><span>LAYER</span></a> definiert</li>
<li>Ab MapServer 5.0 gibt es keine Beschränkung in der Anzahl der Klassen oder
Styles eines Mapfiles.</li>
<li>Das folgende Beispiel zeigt die Ausprägung einer Straße mit zwei Farben,
in dem STYLE-Objekte überlagert werden:</li>
</ul>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">CLASS</span>
<span class="k">NAME</span> <span class="s">&quot;Primary Roads&quot;</span>
<span class="k">STYLE</span>
    <span class="k">SYMBOL</span> <span class="s">&quot;circle&quot;</span>
    <span class="k">COLOR</span> <span class="mi">178</span> <span class="mi">114</span> <span class="mi">1</span>
    <span class="k">SIZE</span> <span class="mi">15</span>
<span class="k">END</span> <span class="c">#style1</span>
<span class="k">STYLE</span>
    <span class="k">SYMBOL</span> <span class="s">&quot;circle&quot;</span>
    <span class="k">COLOR</span> <span class="mi">254</span> <span class="mi">161</span> <span class="mi">0</span>
    <span class="k">SIZE</span> <span class="mi">7</span>
<span class="k">END</span> <span class="c">#style2</span>
<span class="k">END</span>
</pre></div>
</div>
<div class="figure" id="id4">
<img alt="Rendered Bluemarble Image" src="_images/bluemarble-style.jpg" />
<p class="caption"><span class="caption-text">Rendered Bluemarble image with styled roads</span></p>
</div>
</div>
<div class="section" id="symbole">
<h3><a class="reference internal" href="mapfile/symbol.html#symbol"><span>SYMBOLe</span></a><a class="headerlink" href="#symbole" title="Link zu dieser Überschrift">¶</a></h3>
<ul class="simple">
<li>können im Mapfile oder in einer externen Datei definiert werden</li>
<li>Für die externe Datei muss der Parameter SYMBOLSET im MAP-Objekt definiert
werden</li>
</ul>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">MAP</span>
    <span class="k">NAME</span>           <span class="s">&quot;sample&quot;</span>
    <span class="k">EXTENT</span>        <span class="p">-</span><span class="mi">180</span> <span class="p">-</span><span class="mi">90</span> <span class="mi">180</span> <span class="mi">90</span> <span class="c"># Geographic</span>
    <span class="k">SIZE</span>           <span class="mi">800</span> <span class="mi">400</span>
    <span class="k">IMAGECOLOR</span>     <span class="mi">128</span> <span class="mi">128</span> <span class="mi">255</span>
    <span class="k">SYMBOLSET</span>      <span class="s">&quot;../etc/symbols.txt&quot;</span>
<span class="k">END</span>
</pre></div>
</div>
<p>wobei symbols.txt folgendes enthalten könnte:</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">SYMBOL</span>
    <span class="k">NAME</span> <span class="s">&quot;ski&quot;</span>
    <span class="k">TYPE</span> <span class="nb">PIXMAP</span>
    <span class="k">IMAGE</span> <span class="s">&quot;ski.gif&quot;</span>
<span class="k">END</span>
</pre></div>
</div>
<p>das Mapfile würde enthalten:</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">LAYER</span>
    <span class="p">...</span>
    <span class="k">CLASS</span>
        <span class="k">NAME</span> <span class="s">&quot;Ski Area&quot;</span>
        <span class="k">STYLE</span>
            <span class="k">SYMBOL</span> <span class="s">&quot;ski&quot;</span>
        <span class="k">END</span>
    <span class="k">END</span>
<span class="k">END</span> <span class="c"># layer</span>
</pre></div>
</div>
<div class="figure" id="id5">
<img alt="Rendered Bluemarble Image Skier" src="_images/bluemarble-ski.jpg" />
<p class="caption"><span class="caption-text">Rendered Bluemarble image with skier symbol</span></p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">Siehe auch</p>
<p class="last"><a class="reference internal" href="mapfile/symbology/construction.html#sym-construction"><span>Konstruktion von kartographischen Signaturen</span></a>, <a class="reference internal" href="mapfile/symbology/examples.html#sym-examples"><span>Signaturbeispiele</span></a> und <a class="reference internal" href="mapfile/symbol.html#symbol"><span>SYMBOL</span></a></p>
</div>
</div>
<div class="section" id="label">
<h3><a class="reference internal" href="mapfile/label.html#label"><span>LABEL</span></a><a class="headerlink" href="#label" title="Link zu dieser Überschrift">¶</a></h3>
<ul class="simple">
<li>wird innerhalb eines <a class="reference internal" href="mapfile/layer.html#layer"><span>LAYER</span></a> Objektes definiert</li>
<li>Der Parameter LABELITEM im <a class="reference internal" href="mapfile/layer.html#layer"><span>LAYER</span></a> Objekt kann zum Beschriften eine
bestimmte Attributspalte referenzieren.</li>
<li>Schriften können in einer Datei, die im MAP-Objekt per <a class="reference internal" href="mapfile/fontset.html#fontset"><span>FONTSET</span></a>
definiert wird, definiert werden</li>
</ul>
<p>Ein Beispiel für <a class="reference internal" href="mapfile/label.html#label"><span>LABEL</span></a>-Objekt das eine Schrift referenziert:</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">LABEL</span>
    <span class="k">FONT</span> <span class="s">&quot;sans-bold&quot;</span>
    <span class="k">TYPE</span> <span class="nb">truetype</span>
    <span class="k">SIZE</span> <span class="mi">10</span>
    <span class="k">POSITION</span> <span class="nb">LC</span>
    <span class="k">PARTIALS</span> <span class="nb">FALSE</span>
    <span class="k">COLOR</span>  <span class="mi">100</span> <span class="mi">100</span> <span class="mi">100</span>
    <span class="k">OUTLINECOLOR</span> <span class="mi">242</span> <span class="mi">236</span> <span class="mi">230</span>
<span class="k">END</span> <span class="c"># label</span>
</pre></div>
</div>
<div class="figure" id="id6">
<img alt="Rendered Bluemarble Image Skier" src="_images/bluemarble-ski-label.jpg" />
<p class="caption"><span class="caption-text">Rendered Bluemarble image with skier symbol and a label</span></p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">Siehe auch</p>
<p class="last"><a class="reference internal" href="mapfile/label.html#label"><span>LABEL</span></a>, <a class="reference internal" href="mapfile/fontset.html#fontset"><span>FONTSET</span></a></p>
</div>
</div>
<div class="section" id="class-expressions">
<h3><a class="reference internal" href="mapfile/class.html#class"><span>CLASS</span></a> <a class="reference internal" href="mapfile/expressions.html#expressions"><span>Expressions</span></a><a class="headerlink" href="#class-expressions" title="Link zu dieser Überschrift">¶</a></h3>
<p>MapServer unterstützt drei Arten von <a class="reference internal" href="mapfile/class.html#class"><span>CLASS</span></a>-Expressions in einem
<a class="reference internal" href="mapfile/layer.html#layer"><span>LAYER</span></a>:</p>
<ol class="arabic">
<li><p class="first">Zeichenkettenvergleiche</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span>(EXPRESSION &quot;africa&quot;)
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first">Reguläre Ausdrücke</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span>(EXPRESSION /^9|^10/)
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first">Logische Ausdrücke</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span>([POPULATION] &gt; 50000 AND &#39;[LANGUAGE]&#39; eq &#39;FRENCH&#39;)
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Bemerkung</p>
<p class="last">Logische Ausdrücke sollten wenn möglich vermieden werden. Sie verlangsamen
die Geschwindigkeit beim Erstellen des Kartenbildes.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">Siehe auch</p>
<p class="last"><a class="reference internal" href="mapfile/expressions.html#expressions"><span>Expressions</span></a></p>
</div>
</div>
<div class="section" id="include">
<h3><a class="reference internal" href="mapfile/include.html#include"><span>INCLUDE</span></a><a class="headerlink" href="#include" title="Link zu dieser Überschrift">¶</a></h3>
<p>Ab MapServer 4.10 kann jeder Teil eines Mapfile in eine externe Datei
ausgelagert werden und per <a class="reference internal" href="mapfile/include.html#include"><span>INCLUDE</span></a>-Parameter wieder inkludiert werden.
Die einzubindende Datei kann eine beliebige Dateiendung haben und die Angabe
erfolgt immer relativ zum Mapfile. Einige mögliche Anwendungen:</p>
<ul class="simple">
<li><a class="reference internal" href="mapfile/layer.html#layer"><span>LAYER</span></a> können in Dateien ausgelagert werden und von mehreren Anwendungen
eingebunden werden</li>
<li><a class="reference internal" href="mapfile/style.html#style"><span>STYLE</span></a> können ebenfalls ausgelagert und von mehreren Anwendungen
eingebunden werden</li>
</ul>
<p>Das folgende Beispiel demonstriert die Verwendung von <a class="reference internal" href="mapfile/include.html#include"><span>includes</span></a> um eine Layerdefinition aus einer externen Datei einzubinden:</p>
<p>&#8216;shadedrelief.lay&#8217; enthält:</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">LAYER</span>
    <span class="k">NAME</span>         <span class="s">&#39;shadedrelief&#39;</span>
    <span class="k">STATUS</span>       <span class="nb">ON</span>
    <span class="k">TYPE</span>         <span class="nb">RASTER</span>
    <span class="k">DATA</span>         <span class="s">&#39;GLOBALeb3colshade.jpg&#39;</span>
<span class="k">END</span>
</pre></div>
</div>
<p>das zugehörige Mapfile enthält:</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">MAP</span>
    <span class="p">...</span>
    <span class="k">INCLUDE</span> <span class="s">&quot;shadedrelief.lay&quot;</span>
    <span class="p">...</span>
<span class="k">END</span>
</pre></div>
</div>
<p>Das folgende ist ein Beispiel bei dem alle <a class="reference internal" href="mapfile/layer.html#layer"><span>LAYER</span></a> in externen Dateien
(Endung .lay) und alle anderen Objekte (<a class="reference internal" href="mapfile/web.html#web"><span>WEB</span></a>, <a class="reference internal" href="mapfile/reference.html#reference"><span>REFERENCE</span></a>,
<a class="reference internal" href="mapfile/scalebar.html#scalebar"><span>SCALE</span></a>, etc.) in einer &#8221;.ref&#8221;-Datei gespeichert sind:</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">NAME</span> <span class="s">&quot;base&quot;</span>
<span class="c">#</span>
<span class="c"># include reference objects</span>
<span class="c">#</span>
<span class="k">INCLUDE</span> <span class="s">&quot;../templates/template.ref&quot;</span>
<span class="c">#</span>
<span class="c"># Start of layer definitions</span>
<span class="c">#</span>
<span class="k">INCLUDE</span> <span class="s">&quot;../layers/usa/usa_outline.lay&quot;</span>
<span class="k">INCLUDE</span> <span class="s">&quot;../layers/canada/base/1m/provinces.lay&quot;</span>
<span class="k">INCLUDE</span> <span class="s">&quot;../layers/canada/base/1m/roads_atlas_of_canada_1m.lay&quot;</span>
<span class="k">INCLUDE</span> <span class="s">&quot;../layers/canada/base/1m/roads_atlas_of_canada_1m_shields.lay&quot;</span>
<span class="k">INCLUDE</span> <span class="s">&quot;../layers/canada/base/1m/populated_places.lay&quot;</span>
<span class="k">END</span> <span class="c"># Map File</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warnung</p>
<p class="last"><a class="reference internal" href="mapfile/index.html#mapfile"><span>Mapfiles</span></a> müssen die Endung <code class="docutils literal"><span class="pre">.map</span></code> besitzen um vom
MapServer erkannt zu werden. Include-Dateien können hingegen eine beliebige
Endung besitzen.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">Siehe auch</p>
<p class="last"><a class="reference internal" href="mapfile/include.html#include"><span>INCLUDE</span></a></p>
</div>
</div>
<div class="section" id="mapserver-installation-testen">
<h3>MapServer-Installation testen<a class="headerlink" href="#mapserver-installation-testen" title="Link zu dieser Überschrift">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span></span>MapServer version 5.2 OUTPUT=GIF OUTPUT=PNG
OUTPUT=JPEG OUTPUT=WBMP SUPPORTS=PROJ SUPPORTS=FREETYPE
SUPPORTS=WMS_SERVER INPUT=SHAPEFILE
</pre></div>
</div>
<p>Zum Testen kann ein HTTP-Request zum MapServer CGI-Programm gesendet werden,
ohne jegliche Variablen (z.B. <a class="reference external" href="http://your.domain.name/cgi-bin/ms4/mapserv.exe">http://your.domain.name/cgi-bin/ms4/mapserv.exe</a>)
Wird die Meldung &#8216;No query information to decode. QUERY_STRING not set.&#8217;
ausgegeben, funktioniert die MapServer-Installation.</p>
</div>
<div class="section" id="installation-der-demodaten">
<h3>Installation der Demodaten<a class="headerlink" href="#installation-der-demodaten" title="Link zu dieser Überschrift">¶</a></h3>
<p>Laden Sie die <a class="reference external" href="http://maps.dnr.state.mn.us/mapserver_demos/workshop-5.0.zip">MapServer Demo</a>
herunter, entpacken diese und folgen Sie den Anweisungen in der ReadMe.txt. Die
Demodateien müssen an die richtige Stelle auf dem Server kopiert werden und das
Mapfile und die HTML-Seiten müssen den Pfaden der vorliegenden Umgebung
angepasst werden. Anschließend wird per Browser die Datei init.html geladen und
der Knopf &#8216;initialize button&#8217; gedrückt. Sollten Fehler auftreten, müssen die
gemachten Änderungen anhand der Anleitung überprüft werden.</p>
</div>
</div>
<div class="section" id="eine-eigene-mapserver-anwendung">
<h2><a class="toc-backref" href="#contents">Eine eigene MapServer-Anwendung</a><a class="headerlink" href="#eine-eigene-mapserver-anwendung" title="Link zu dieser Überschrift">¶</a></h2>
<p>Jetzt, da die MapServer-Demo läuft, kann sie so verändert werden, dass eigene
Daten angezeigt werden. Neue LAYER können dem Mapfile hinzugefügt werden, die
auf eigene Geodaten aufbauen. (Die vorhandenen Layer sollten gelöscht oder
deaktiviert werden z.B. durch Setzen des Status auf &#8220;off&#8221;.)</p>
<p>Wenn die eigenen Daten eine andere geografische Ausdehnung als die Demodaten
haben, muss <a class="reference internal" href="mapfile/map.html#map"><span>MAP</span></a> EXTENT angepasst werden. Um die Ausdehnung zu bestimmen
kann <a class="reference external" href="http://www.gdal.org/ogrinfo.html">ogrinfo</a> benutzt werden. Es kann auch
ein GIS benutzt werden um die Ausdehung zu bestimmen. Der <a class="reference internal" href="mapfile/map.html#map"><span>MAP</span></a> EXTENT muss
in den Einheiten der Ausgabeprojektion angegeben werden.</p>
<p>Werden Geodaten mit unterschiedlichen Projektionen hinzugefügt, muss eine
<a class="reference internal" href="mapfile/projection.html#projection"><span>PROJECTION</span></a> Definition für <a class="reference internal" href="mapfile/map.html#map"><span>MAP</span></a> (Ausgabeprojektion) und <a class="reference internal" href="mapfile/layer.html#layer"><span>LAYER</span></a>
(vorhandene Layerprojektion) hinzugefügt werden.
Adding Data to Your Site
...............................................................................</p>
<p>MapServer unterstützt &#8220;von Haus aus&#8221; einige Formate für Geodaten. Viele mehr
werden verfügbar, wenn MapServer mit den Open Source Bibliotheken <span class="xref std std-term">GDAL</span>
und <span class="xref std std-term">OGR</span> übersetzt wird.</p>
<div class="section" id="vektordaten">
<h3>Vektordaten<a class="headerlink" href="#vektordaten" title="Link zu dieser Überschrift">¶</a></h3>
<p>Vektordaten können Punkt-, Linien- und Flächenobjekte beinhalten. MapServer
unterstützt standardmäßig ESRI Shapefiles, kann aber kompiliert werden mit
unterstützung für folgende Formate:
<a class="reference external" href="http://postgis.refractions.net/">PostgreSQL-PostGIS</a>,
<a class="reference external" href="http://en.wikipedia.org/wiki/Geography_Markup_Language">Geography Markup Language (GML)</a>,
<a class="reference external" href="http://www.mapinfo.com/">MapInfo</a>, Komma-,Tab-getrennte Textdateien, und
weitere Formate mit <span class="xref std std-ref">ogr</span>.</p>
<p>In der <span class="xref std std-ref">Vector Data reference</span> sind Beispiele zu finden, wie
Geodaten zur eigenen MapServer-Anwendung hinzugefügt werden können.</p>
</div>
<div class="section" id="rasterdaten">
<h3>Rasterdaten<a class="headerlink" href="#rasterdaten" title="Link zu dieser Überschrift">¶</a></h3>
<p>Rasterdaten sind pixelbasierte oder Netz/Grid-Daten. Standardmäßig unterstützt
MapServer Tiff/GeoTiff, and EPPL7. Mit <a class="reference external" href="http://www.gdal.org/">GDAL</a>, werden
GRASS, Jpeg2000, ArcInfo Grids, und <a class="reference external" href="http://www.gdal.org/formats_list.html">weitere Formate</a> unterstützt. Wenn MapServer mit
GDAL-Unterstützung übersetzt wird, sollte die eingebaute TIFF-Unterstützung
nicht aktiviert werden. Sonst kann es zu Konflikten kommen. Weitere
Informationen sind in der <span class="xref std std-ref">Rasterdaten-Referenz</span> nachzulesen.</p>
</div>
<div class="section" id="projektionen">
<h3>Projektionen<a class="headerlink" href="#projektionen" title="Link zu dieser Überschrift">¶</a></h3>
<p>Da die Erde rund und der Monitor (oder Papierkarte) flach ist, kommt es zu
Verzerrungen wenn räumliche Geodaten in einem zweidimensionalen Bild dargestellt
werden sollen. Projektionen ermöglichen die Darstellung auf einer ebenen Fläche.
Dabei werden einige der Eigenschaften (z.B. Fläche, Richtung, Entfernung,
Maßstab oder Konformität) der Daten verzerrt. Die verschiedenen Projektionen
unterscheiden sich in der originalgetreuen Darstellung der unterschiedlichen
Eigenschaften. Eine gute
<a class="reference external" href="http://www.colorado.edu/geography/gcraft/notes/mapproj/mapproj_f.html">Einführung</a>
stellt die universität von Colorado zur Verfügung.</p>
<p>Liegen alle Daten in der selben Projektion vor (oder unprojiziert
Latitude/Rechtswert und Longitude/Hochwert), muss keine Projektion angegeben
werden im Mapfile. Für die ersten Schritte mit MapServer kann dies die
Konfiguration vereinfachen.</p>
<p>Unterstützung für On-the-fly Projektion bietet <span class="xref std std-term">Proj.4</span>, sofern MapServer
entsprechend kompiliert wurde. Anleitungen für Proj.4-Unterstützung unter
Windows können im <a class="reference external" href="https://github.com/mapserver/mapserver/wiki/WindowsProjHowto">Wiki</a> gefunden werden.</p>
</div>
</div>
<div class="section" id="die-eigene-anwendung-erweitern">
<h2><a class="toc-backref" href="#contents">Die eigene Anwendung erweitern</a><a class="headerlink" href="#die-eigene-anwendung-erweitern" title="Link zu dieser Überschrift">¶</a></h2>
<div class="section" id="abfragemoglichkeit-hinzufugen">
<h3>Abfragemöglichkeit hinzufügen<a class="headerlink" href="#abfragemoglichkeit-hinzufugen" title="Link zu dieser Überschrift">¶</a></h3>
<p>Es gibt zwei Wege raumbasierte Daten abzufragen. Beide Methoden liefern Daten,
in dem entweder Template- oder CGI-Variablen ersetzt werden. Eine
<a class="reference internal" href="mapfile/querymap.html#querymap"><span>QUERYMAP</span></a> kann die Ergebnisse der Abfrage visualisieren.</p>
<p>Um Abfragen zu ermöglichen, muss jeder <a class="reference internal" href="mapfile/layer.html#layer"><span>LAYER</span></a> ein <a class="reference internal" href="mapfile/template.html#template"><span>TEMPLATE</span></a> definieren. Alternativ kann auch in einer <a class="reference internal" href="mapfile/class.html#class"><span>CLASS</span></a> ein Template
definiert werden. Weitere Informationen, welche CGI-Variablen zum Erstellen von
Abfragen benutzt werden können, sind in der <span class="xref std std-ref">MapServer CGI Referenz</span>
zu finden.</p>
</div>
<div class="section" id="attributabfragen">
<h3>Attributabfragen<a class="headerlink" href="#attributabfragen" title="Link zu dieser Überschrift">¶</a></h3>
<p>Ein Benutzer kann zu einem Feature Attributdaten abfragen. &#8216;Zeige mir alle
Seen deren Tiefe mehr als 30 Meter beträgt&#8217;, wobei &#8216;Tiefe&#8217; ein Feld in der
.dbf Datei oder der Datenbank ist. Bei Attributabfragen werden die
Abfrageinformationen per URL (oder Formularübergabe) übergeben. Mode=itemquery
liefert einen Wert, mode=itemnquery liefert mehrere Werte.</p>
<p>Die Abfrage sollte den Parameter QLAYER enthalten, der den abzufragenden
Layer angibt und einen QSTRING der die Abfrage enthält.Optional kann QITEM
zusammen mit QSTRING angegeben werden, um das Abfragefeld direkt anzugeben.
Attributabfragen sind räumlich auf die im Mapfile definierte Ausdehnung (EXTENT)
begrenzt.</p>
</div>
<div class="section" id="raumliche-abfragen">
<h3>Räumliche Abfragen<a class="headerlink" href="#raumliche-abfragen" title="Link zu dieser Überschrift">¶</a></h3>
<p>Der Benutzer wählt Features durch einen Klick auf die Karte oder das Aufziehen
eines Abfragerechtecks. Die Abfrage wird wieder per URL oder Formularübergabe
gestellt. Durch das Setzen von mode=QUERY wird bei einem Klick auf die Karte
das nächstgelegene Feature geliefert. Bei mode=NQUERY werden alle Feature eines
Klicks oder Abfragerechtecks geliefert. Weitere Optionen sind unter <span class="xref std std-ref">cgi</span>
zu finden.</p>
</div>
<div class="section" id="schnittstellen">
<h3>Schnittstellen<a class="headerlink" href="#schnittstellen" title="Link zu dieser Überschrift">¶</a></h3>
<p>See: OpenLayers <a class="reference external" href="http://openlayers.org">http://openlayers.org</a></p>
</div>
<div class="section" id="optimierung-von-daten">
<h3>Optimierung von Daten<a class="headerlink" href="#optimierung-von-daten" title="Link zu dieser Überschrift">¶</a></h3>
<p>Die Aufbereitung von Daten für eine performante MapServer-Anwendung ist genauso
wichtig wie die Hardwareausstattung und -konfiguration. MapServer arbeitet
bereits sehr effizient. Jede Reduzierung des Verarbeitungsaufwandes, der für
die Abarbeitung eines Requests notwendig ist, kann die Gesamtperformance
deutlich erhöhen. Hier sind einige Anregungen:</p>
<ul class="simple">
<li><strong>Indizierung von Daten</strong> - in dem räumliche Indizes durch Verwendung von
<a class="reference internal" href="utilities/shptree.html#shptree"><span>shptree</span></a> erstellt werden. Räumliche Indizes sollten auch für
Geodatenbanken wie PostGIS und Oracle Spatial benutzt werden.</li>
<li><strong>Kacheln von Daten</strong> - idealerweise werden die Daten in Kacheln aufgeteilt,
die die Größe der gewünschten Darstellung aufweist. Es entsteht ein unnötiger
Aufwand, wenn ein sehr großes Shapefile oder Bild abgefragt wird, von dem ein
nur sehr kleiner Ausschnitt benötigt wird. Werden die Daten gekachelt und mit
einem Tileindex (Kachelindex) versehen, kann MapServer direkt auf den
(Teil-)Bereich der Daten zugreifen, der abgefragt wurde. Shapefiles können
in kleinere Kacheln aufgeteilt werden und ein Tileindex Shapefile kann mit
<a class="reference internal" href="utilities/tile4ms.html#tile4ms"><span>tile4ms</span></a> erstellt werden. Ein <span class="xref std std-ref">tileindex</span>
kann auch für Rasterdaten erstellt werden.</li>
<li><strong>Vorklassifizierung von Daten</strong> - MapServer gestattet sehr komplexe
<a class="reference internal" href="mapfile/expressions.html#expressions"><span>EXPRESSIONs</span></a> um Daten zu klassifizieren. Logische und
Reguläre Ausdrücke sind aufwändiger abzuarbeiten als Zeichenkettenvergleiche.
Um die Effizienz zu erhöhen können die Daten in verschiedene Klassen
aufgeteilt werden. Dazu wird ein Feld erstellt, das für CLASSITEM benutzt
wird. Für einen Datensatz mit 4 Klassen wird dieses Feld mit den Werten
1,2,3 oder 4 für jedes Feature belegt. Jeder Wert steht für eine Klasse und
im Mapfile kann für EXPRESSION ein einfacher Zeichenkettenvergleich benutzt
werden.</li>
<li><strong>Vorverarbeitung von Bildern</strong> - Ressourcenintensive Berechnungen sollten
im Vorfeld gemacht werden. Weitere Informationen sind in der
<span class="xref std std-ref">Rasterdatenreferenz</span> zu finden.</li>
<li><strong>Generalisierung von Overviews</strong> - Für kleine Maßstäbe können generalisierte
(d.h. vereinfachte) Daten berechnet werden. Diese können maßstabsabhängig
mittels <a class="reference internal" href="mapfile/layer.html#layer"><span>LAYER</span></a> MINSCALE und <a class="reference internal" href="mapfile/layer.html#layer"><span>LAYER</span></a> MAXSCALE angezeigt werden.
Beim Heranzoomen werden so die detaillierten Daten sichtbar.
Auch für Bilder kann eine Generalisierung Vorteile bringen.</li>
</ul>
<div class="admonition seealso">
<p class="first admonition-title">Siehe auch</p>
<p class="last"><span class="xref std std-ref">optimization</span></p>
</div>
</div>
</div>
<div class="section" id="wie-bekomme-ich-hilfe">
<h2><a class="toc-backref" href="#contents">Wie bekomme ich Hilfe?</a><a class="headerlink" href="#wie-bekomme-ich-hilfe" title="Link zu dieser Überschrift">¶</a></h2>
<div class="section" id="dokumentation">
<h3>Dokumentation<a class="headerlink" href="#dokumentation" title="Link zu dieser Überschrift">¶</a></h3>
<ul class="simple">
<li>Offizielle MapServer-Dokumentation ist auf dieser <a class="reference internal" href="documentation.html#documentation"><span>Seite</span></a>
zu finden.</li>
<li>Von Anwendern erstellte Dokumentation findet sich im  <a class="reference external" href="https://github.com/mapserver/mapserver/wiki">Wiki</a>.</li>
</ul>
</div>
<div class="section" id="mailinglisten">
<h3>Mailinglisten<a class="headerlink" href="#mailinglisten" title="Link zu dieser Überschrift">¶</a></h3>
<p>Fragen können an die Liste <a class="reference external" href="http://lists.osgeo.org/mailman/listinfo/mapserver-users/">MapServer Users</a>
gestellt werden, wenn man sich vorher registriert. Die Fragen werden
normalerweise schnell beantwortet und oftmals auch direkt von den Entwicklern.
Einige Punkte sollten beachtet werden:</p>
<ol class="arabic simple">
<li>Vor der Frage sollte im <a class="reference external" href="http://www.nabble.com/MapServer-f1214.html">Archiv</a>
gesucht werden. Oftmals werden Fragen gestellt, die bereits beantwortet
worden. Niemand möchte die selben Fragen immer und immer wieder beantworten.</li>
<li>Informationen zur Version und Konfiguration von MapServer sollten ebenso
angegeben werden wie relevante Teile des Mapfiles oder der Templates.</li>
<li>Es sollte immer wieder der Liste geantwortet werden und nicht nur
demjenigen dem man antwortet.</li>
</ol>
</div>
<div class="section" id="irc">
<h3>IRC<a class="headerlink" href="#irc" title="Link zu dieser Überschrift">¶</a></h3>
<p>Benutzer und Entwickler von MapServer können im Internet Relay Chat angetroffen
werden. Der Chatkanal ist #mapserver auf irc.freenode.net</p>
</div>
<div class="section" id="gallerie">
<h3>Gallerie<a class="headerlink" href="#gallerie" title="Link zu dieser Überschrift">¶</a></h3>
<p>Unter <a class="reference external" href="http://ms.gis.umn.edu/gallery/galleryfolder_view">Beispiele</a> sind
einige MapServer-Anwendungen zu sehen.</p>
</div>
<div class="section" id="tutorial">
<h3>Tutorial<a class="headerlink" href="#tutorial" title="Link zu dieser Überschrift">¶</a></h3>
<p>Perry Nacionales hat ein großartiges <a class="reference external" href="http://hypnos.cbs.umn.edu/tutorial/">Tutorial</a>
erstellt, wie eine MapServer-Anwendung erstellt wird. Jeder ist eingeladen die
Sammlung von Beispielen zu erweitern falls bestimmte Anwendungsscenarien fehlen.</p>
</div>
<div class="section" id="test-suite">
<h3>Test Suite<a class="headerlink" href="#test-suite" title="Link zu dieser Überschrift">¶</a></h3>
<p>Die <a class="reference external" href="http://noah.dnr.state.mn.us/mapserver_demos/tests46/">MapServer Testsuite</a>
kann heruntergeladen werden zur Demonstration der MapServer-Funktionalitäten.</p>
</div>
<div class="section" id="bucher">
<h3>Bücher<a class="headerlink" href="#bucher" title="Link zu dieser Überschrift">¶</a></h3>
<p><a class="reference external" href="http://www.oreilly.com/catalog/webmapping/">Web Mapping Illustrated</a> , a
new book by Tyler Mitchell that describes well and provides real-world examples
for the use of Web mapping concepts, Open Source GIS software, MapServer,
Web services, and PostGIS.</p>
<p><a class="reference external" href="http://www.oreilly.com/catalog/mappinghks/">Mapping Hacks</a> ,  by Schuyler
Erle, Rich Gibson, and Jo Walsh, creatively demonstrates digital mapping tools
and concepts.  MapServer only appears in a handful of the 100 hacks, but many
more are useful for concepts and inspiration.</p>
<p><a class="reference external" href="http://www.apress.com/book/bookDisplay.html?bID=443">Beginning MapServer: Opensource GIS Development</a> ,
by Bill Kropla, is a new book focusing on MapServer.  So new, I haven&#8217;t seen
it yet.  According to the publisher, it covers installation and configuration,
basic MapServer topics and features, incorporation of dynamic data, advanced
topics, MapScript, and the creation of an actual application.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Navigation</h3>
<p>
<a href="about.html" title="About">About</a><br>
<a href="products.html" title="Products">Products</a><br>
<a href="community/index.html" title="Community">Community</a><br>
<a href="development/index.html" title="Development">Development</a><br>
<a href="download.html" title="Downloads">Downloads</a><br>
<a href="documentation.html" title="Documentation">Documentation</a><br>
<a href="faq.html" title="FAQ">FAQ</a>
</p>
  <h3>Current Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Einführung zum MapServer</a><ul>
<li><a class="reference internal" href="#mapserver-uberblick">MapServer Überblick</a></li>
<li><a class="reference internal" href="#anatomie-einer-mapserver-anwendung">Anatomie einer MapServer Anwendung</a></li>
<li><a class="reference internal" href="#systemanforderungen-und-installationshinweise">Systemanforderungen und Installationshinweise</a><ul>
<li><a class="reference internal" href="#windows-installation">Windows Installation</a></li>
<li><a class="reference internal" href="#hardwareanforderungen">Hardwareanforderungen</a></li>
<li><a class="reference internal" href="#softwareanforderungen">Softwareanforderungen</a></li>
<li><a class="reference internal" href="#kenntnisse">Kenntnisse</a></li>
</ul>
</li>
<li><a class="reference internal" href="#einfuhrung-zum-mapfile">Einführung zum <code class="docutils literal"><span class="pre">Mapfile</span></code></a><ul>
<li><a class="reference internal" href="#map-object"><code class="docutils literal"><span class="pre">MAP</span></code> Object</a></li>
<li><a class="reference internal" href="#layer-objekt"><code class="docutils literal"><span class="pre">LAYER</span></code> Objekt</a><ul>
<li><a class="reference internal" href="#rasterlayer">Rasterlayer</a></li>
<li><a class="reference internal" href="#vektorlayer">Vektorlayer</a></li>
</ul>
</li>
<li><a class="reference internal" href="#class-und-style-objekte"><code class="docutils literal"><span class="pre">CLASS</span></code> und <code class="docutils literal"><span class="pre">STYLE</span></code> Objekte</a></li>
<li><a class="reference internal" href="#symbole"><code class="docutils literal"><span class="pre">SYMBOLe</span></code></a></li>
<li><a class="reference internal" href="#label"><code class="docutils literal"><span class="pre">LABEL</span></code></a></li>
<li><a class="reference internal" href="#class-expressions"><code class="docutils literal"><span class="pre">CLASS</span></code> <code class="docutils literal"><span class="pre">Expressions</span></code></a></li>
<li><a class="reference internal" href="#include"><code class="docutils literal"><span class="pre">INCLUDE</span></code></a></li>
<li><a class="reference internal" href="#mapserver-installation-testen">MapServer-Installation testen</a></li>
<li><a class="reference internal" href="#installation-der-demodaten">Installation der Demodaten</a></li>
</ul>
</li>
<li><a class="reference internal" href="#eine-eigene-mapserver-anwendung">Eine eigene MapServer-Anwendung</a><ul>
<li><a class="reference internal" href="#vektordaten">Vektordaten</a></li>
<li><a class="reference internal" href="#rasterdaten">Rasterdaten</a></li>
<li><a class="reference internal" href="#projektionen">Projektionen</a></li>
</ul>
</li>
<li><a class="reference internal" href="#die-eigene-anwendung-erweitern">Die eigene Anwendung erweitern</a><ul>
<li><a class="reference internal" href="#abfragemoglichkeit-hinzufugen">Abfragemöglichkeit hinzufügen</a></li>
<li><a class="reference internal" href="#attributabfragen">Attributabfragen</a></li>
<li><a class="reference internal" href="#raumliche-abfragen">Räumliche Abfragen</a></li>
<li><a class="reference internal" href="#schnittstellen">Schnittstellen</a></li>
<li><a class="reference internal" href="#optimierung-von-daten">Optimierung von Daten</a></li>
</ul>
</li>
<li><a class="reference internal" href="#wie-bekomme-ich-hilfe">Wie bekomme ich Hilfe?</a><ul>
<li><a class="reference internal" href="#dokumentation">Dokumentation</a></li>
<li><a class="reference internal" href="#mailinglisten">Mailinglisten</a></li>
<li><a class="reference internal" href="#irc">IRC</a></li>
<li><a class="reference internal" href="#gallerie">Gallerie</a></li>
<li><a class="reference internal" href="#tutorial">Tutorial</a></li>
<li><a class="reference internal" href="#test-suite">Test Suite</a></li>
<li><a class="reference internal" href="#bucher">Bücher</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Schnellsuche</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Los" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Geben Sie Suchbegriffe oder einen Modul-, Klassen- oder Funktionsnamen ein.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Open Source Geospatial Foundation.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.9</a>
      
    </div>

    

    
  </body>
</html>